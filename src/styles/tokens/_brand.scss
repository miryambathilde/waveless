/* =========================================================
   Brand Tokens (Single Source of Truth)
========================================================= */

@use 'sass:map';

/* =========================================================
   1) Neutral Scale (Basic)
========================================================= */

$basic-000: #ffffff;
$basic-000-high-alpha: rgba(255, 255, 255, 0.72);
$basic-500-alpha: rgba(129, 119, 129, 0.5);

$basic-050: #f8f7f8;
$basic-100: #e0d9e0;
$basic-200: #d1c7d1;
$basic-300: #bfb0be;
$basic-400: #a0989f;
$basic-500: #817781;
$basic-600: #635a63;
$basic-700: #494149;
$basic-800: #342e34;
$basic-900: #2d242d;
$basic-950: #000000;

/* =========================================================
   2) Primary Scale (Purple)
========================================================= */

$primary-050: #f5eaf5;
$primary-100: #e0c8df;
$primary-200: #d9bad8;
$primary-300: #c69ac4;
$primary-400: #b677b3;
$primary-500: #ac53a9;
$primary-600: #864084;
$primary-700: #622f60;
$primary-800: #471f45;
$primary-900: #2b132a;

$primary-700-alpha-32: rgba(98, 47, 96, 0.32);

/* =========================================================
   3) Secondary Scale (Orange)
========================================================= */

$secondary-050: #fbf6f4;
$secondary-100: #f4e8e1;
$secondary-200: #ffe1d1;
$secondary-300: #ffbc99;
$secondary-400: #ff8f50;
$secondary-500: #d67843;
$secondary-550: #cc4900;
$secondary-600: #b85c28;
$secondary-700: #8a451e;
$secondary-800: #4e250e;
$secondary-900: #31190c;

$support-info-600: #6b7d8d;

/* =========================================================
   4) Brand Aliases
========================================================= */

$brand-purple: $primary-700;
$brand-orange: $secondary-400;

/* =========================================================
   5) Token Map (Safe String Keys)
========================================================= */

$tokens-colors: (
  'brand': (
    'purple': $brand-purple,
    'orange': $brand-orange,
  ),
  'basic': (
    '000': $basic-000,
    '000-high-alpha': $basic-000-high-alpha,
    '500-alpha': $basic-500-alpha,
    '050': $basic-050,
    '100': $basic-100,
    '200': $basic-200,
    '300': $basic-300,
    '400': $basic-400,
    '500': $basic-500,
    '600': $basic-600,
    '700': $basic-700,
    '800': $basic-800,
    '900': $basic-900,
    '950': $basic-950,
  ),
  'primary': (
    '050': $primary-050,
    '100': $primary-100,
    '200': $primary-200,
    '300': $primary-300,
    '400': $primary-400,
    '500': $primary-500,
    '600': $primary-600,
    '700': $primary-700,
    '800': $primary-800,
    '900': $primary-900,
    '700-alpha-32': $primary-700-alpha-32,
  ),
  'secondary': (
    '050': $secondary-050,
    '100': $secondary-100,
    '200': $secondary-200,
    '300': $secondary-300,
    '400': $secondary-400,
    '500': $secondary-500,
    '550': $secondary-550,
    '600': $secondary-600,
    '700': $secondary-700,
    '800': $secondary-800,
    '900': $secondary-900,
  ),
  'support': (
    'info-600': $support-info-600,
  ),
);

/* =========================================================
   6) Helpers
========================================================= */

@function color-token($group, $token) {
  @if map.has-key($tokens-colors, $group) == false {
    @error "Unknown token group: #{$group}";
  }

  $group-map: map.get($tokens-colors, $group);

  @if map.has-key($group-map, $token) == false {
    @error "Unknown token '#{$token}' in group '#{$group}'";
  }

  @return map.get($group-map, $token);
}

/* Emit CSS Variables */

@mixin emit-color-css-vars($prefix: 'color') {
  @each $group-name, $group-map in $tokens-colors {
    @each $token-name, $value in $group-map {
      --#{$prefix}-#{$group-name}-#{$token-name}: #{$value};
    }
  }
}

@mixin emit-color-css-vars-root($selector, $prefix: 'color') {
  #{$selector} {
    @include emit-color-css-vars($prefix);
  }
}
